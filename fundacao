<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Sapatas em Lote - 2026</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f8f9fa; padding: 20px; color: #333; }
        .container { max-width: 900px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { color: #0056b3; text-align: center; }
        .grid-inputs { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px; background: #f1f3f5; padding: 15px; border-radius: 8px; }
        label { display: block; font-size: 13px; font-weight: bold; margin-bottom: 5px; }
        input { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background-color: #007bff; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: bold; transition: 0.3s; }
        button:hover { background-color: #0056b3; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 25px; font-size: 14px; }
        th { background-color: #0056b3; color: white; padding: 12px; text-align: left; }
        td { border: 1px solid #dee2e6; padding: 10px; }
        tr:nth-child(even) { background-color: #f8f9fa; }
        .total-row { background-color: #d1ecf1 !important; font-weight: bold; font-size: 16px; }
        .resumo { margin-top: 20px; padding: 15px; border-left: 5px solid #28a745; background: #e9f7ef; }
    </style>
</head>
<body>

<div class="container">
    <h2>Cálculo de Sapatas Piramidais em Lote</h2>
    
    <div class="grid-inputs">
        <div>
            <label>Quantas Sapatas?</label>
            <input type="number" id="qtd" value="1" min="1">
        </div>
        <div>
            <label>Base A (m)</label>
            <input type="number" id="L_base" step="0.01" placeholder="Ex: 1.20">
        </div>
        <div>
            <label>Base B (m)</label>
            <input type="number" id="C_base" step="0.01" placeholder="Ex: 1.20">
        </div>
        <div>
            <label>Topo a (m)</label>
            <input type="number" id="l_topo" step="0.01" placeholder="Ex: 0.20">
        </div>
        <div>
            <label>Topo b (m)</label>
            <input type="number" id="c_topo" step="0.01" placeholder="Ex: 0.20">
        </div>
        <div>
            <label>Alt. Rodapé h0 (m)</label>
            <input type="number" id="h_rodape" step="0.01" placeholder="Ex: 0.20">
        </div>
        <div>
            <label>Alt. Total H (m)</label>
            <input type="number" id="h_total" step="0.01" placeholder="Ex: 0.50">
        </div>
    </div>

    <button onclick="gerarTabela()">Calcular e Gerar Tabela</button>

    <div id="resultadoArea" style="display:none;">
        <table id="tabelaResultados">
            <thead>
                <tr>
                    <th>Item</th>
                    <th>Dimensões (Base)</th>
                    <th>Dimensões (Topo)</th>
                    <th>Alturas (h0/H)</th>
                    <th>Vol. Unitário</th>
                </tr>
            </thead>
            <tbody id="corpoTabela"></tbody>
        </table>

        <div class="resumo">
            <strong>RESUMO DO PEDIDO:</strong><br>
            Volume Total de Concreto: <span id="volTotalFinal" style="color:#d93025; font-size: 20px;">0</span> m³<br>
            Total em Litros: <span id="litrosTotal">0</span> L<br>
            Aproximadamente <span id="latasTotal">0</span> latas de 18L.
        </div>
    </div>
</div>

<script>
    function gerarTabela() {
        const qtd = parseInt(document.getElementById('qtd').value);
        const A = parseFloat(document.getElementById('L_base').value);
        const B = parseFloat(document.getElementById('C_base').value);
        const a = parseFloat(document.getElementById('l_topo').value);
        const b = parseFloat(document.getElementById('c_topo').value);
        const h0 = parseFloat(document.getElementById('h_rodape').value);
        const H = parseFloat(document.getElementById('h_total').value);

        if ([qtd, A, B, a, b, h0, H].some(isNaN) || qtd <= 0) {
            alert("Por favor, preencha todos os campos com valores válidos.");
            return;
        }

        // Cálculo do Volume Unitário (Tronco de Pirâmide + Prisma)
        const s1 = A * B; // Área da base
        const s2 = a * b; // Área do topo
        const h_piramide = H - h0;
        
        const v_unitario = (s1 * h0) + ((h_piramide / 3) * (s1 + s2 + Math.sqrt(s1 * s2)));
        const v_total_lote = v_unitario * qtd;

        // Limpar e preencher tabela
        const corpoTabela = document.getElementById('corpoTabela');
        corpoTabela.innerHTML = "";

        for (let i = 1; i <= qtd; i++) {
            let row = `<tr>
                <td>Sapata ${i}</td>
                <td>${A} x ${B} m</td>
                <td>${a} x ${b} m</td>
                <td>${h0} / ${H} m</td>
                <td>${v_unitario.toFixed(3)} m³</td>
            </tr>`;
            corpoTabela.innerHTML += row;
        }

        // Linha de Total na Tabela
        let totalRow = `<tr class="total-row">
            <td colspan="4" style="text-align:right">VOLUME TOTAL ACUMULADO:</td>
            <td>${v_total_lote.toFixed(3)} m³</td>
        </tr>`;
        corpoTabela.innerHTML += totalRow;

        // Resumo final
        document.getElementById('volTotalFinal').innerText = v_total_lote.toFixed(3);
        document.getElementById('litrosTotal').innerText = (v_total_lote * 1000).toLocaleString('pt-BR');
        document.getElementById('latasTotal').innerText = Math.ceil((v_total_lote * 1000) / 18);
        
        document.getElementById('resultadoArea').style.display = 'block';
    }
</script>

</body>
</html>
